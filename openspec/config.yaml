schema: spec-driven

context: |
  Repo purpose: Workshop demo for spec-driven development using OpenSpec + Spec-Kit.
  App concept: "PromptLab" - minimal chat UI + Express API proxy to OpenRouter.

  Tech stack:
  - Monorepo: pnpm workspaces + Turborepo
  - Language: TypeScript everywhere
  - Web: React + Vite (apps/web)
  - API: Express + TypeScript (apps/api)
  - Shared: packages/shared (types/contracts only)

  Runtime/conventions:
  - Node.js 20+ (prefer modern TS/JS)
  - Dev: web proxies /api to the API server (avoid CORS setup)
  - Secrets: Use .env. API_KEY must never reach the browser; keep it server-side

  OpenRouter integration:
  - Use OpenAI SDK with baseURL https://openrouter.ai/api/v1

rules:
  proposal:
    - Keep proposals under 500 words
    - Always include a "Non-goals" section

  design:
    - Keep setup minimal; prefer boring, understandable defaults.
    - Keep OpenRouter key strictly server-side; never log secrets.

  spec:
    - Write testable acceptance criteria and error cases (400/404/502).

  tasks:
    - Break tasks into small, verifiable steps (<= 1-2 hours each).
    - Include dev/typecheck/build verification steps where relevant.

# Project context (optional)
# This is shown to AI when creating artifacts.
# Add your tech stack, conventions, style guides, domain knowledge, etc.
# Example:
#   context: |
#     Tech stack: TypeScript, React, Node.js
#     We use conventional commits
#     Domain: e-commerce platform

# Per-artifact rules (optional)
# Add custom rules for specific artifacts.
# Example:
#   rules:
#     proposal:
#       - Keep proposals under 500 words
#       - Always include a "Non-goals" section
#     tasks:
#       - Break tasks into chunks of max 2 hours
